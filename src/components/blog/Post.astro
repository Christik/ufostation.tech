---
import { formatFullDate, getReadingTime } from 'src/lib/content.astro';
import { t } from 'src/locales';

const { content, rawContent } = Astro.props;
const { title, pubDate, updatedDate, description, heroImage } = content;

const readingTime = getReadingTime(rawContent(), t('minutes'));

---
<article class="post">
    {heroImage && (
        <img class="post__hero-image" src={heroImage} alt={`${t('image')}: ${description}`} />
    )}
    <h1 class="post__title">{title}</h1>
    <div class="post__meta">
        {pubDate && <time datetime={pubDate}>{formatFullDate(pubDate)}</time>}
        {updatedDate && <div>({t('updated')} <time datetime={updatedDate}>{formatFullDate(updatedDate)}</time>)</div>}
        â€¢
        {readingTime} {t('read')}
    </div>
    <div class="post__content">
        <slot />
    </div>
</article>
